<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>South Fade Barbers - Book Now</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
:root {
  --primary: #fcd535;
  --primary-dark: #e6c12f;
  --bg: #050505;
  --glass: rgba(255,255,255,0.08);
  --border: 1px solid rgba(255,255,255,0.2);
  --text: #fff;
  --text-muted: #bbb;
}

/* --- BASE --- */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* --- NAVBAR --- */
nav {
  position: sticky;
  top: 0;
  z-index: 10;
  background: rgba(10,10,10,0.9);
  backdrop-filter: blur(10px);
  border-bottom: var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
}
nav img { height: 50px; }
nav a {
  color: var(--text-muted);
  text-decoration: none;
  font-weight: 500;
  transition: 0.3s;
}
nav a:hover { color: var(--primary); }

/* --- MAIN SECTION --- */
section {
  position: relative;
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 4rem 1rem;
  overflow: hidden;
}

/* --- PARTICLES --- */
canvas#particles {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* --- FORM CARD --- */
.form-card {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 580px;
  background: var(--glass);
  border: var(--border);
  border-radius: 24px;
  backdrop-filter: blur(30px) saturate(160%);
  box-shadow: 0 15px 60px rgba(0,0,0,0.6);
  padding: 2.5rem;
  animation: float 6s ease-in-out infinite;
}
@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

h1 {
  text-align: center;
  color: var(--primary);
  font-size: 1.9rem;
  margin-bottom: 0.5rem;
  letter-spacing: 0.5px;
}
p.subtitle {
  text-align: center;
  color: var(--text-muted);
  font-size: 0.95rem;
  margin-bottom: 2rem;
}

/* --- FORM ELEMENTS --- */
.form-group { margin-bottom: 1.3rem; }
label {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--text-muted);
  font-size: 0.95rem;
}
input, select {
  width: 100%;
  padding: 0.9rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(0,0,0,0.75);
  color: var(--text);
  font-size: 1rem;
  transition: all 0.25s ease;
  font-weight: 500;
}
input:focus, select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 12px rgba(252,213,53,0.3);
  outline: none;
}
select option {
  background: #111;
  color: #fff;
  padding: 0.6rem;
}
select option:hover,
select option:checked {
  background: var(--primary);
  color: #000;
  font-weight: 600;
}
.icon {
  color: var(--primary);
  margin-right: 8px;
}

/* --- BUTTON --- */
button {
  width: 100%;
  padding: 1rem;
  border: none;
  border-radius: 14px;
  font-weight: 600;
  font-size: 1.1rem;
  background: var(--primary);
  color: #000;
  cursor: pointer;
  transition: all 0.3s;
  text-transform: uppercase;
}
button:hover {
  background: #000;
  color: var(--primary);
  box-shadow: 0 0 20px rgba(252,213,53,0.4);
  transform: translateY(-2px);
}

/* --- TOAST --- */
.toast {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: rgba(255,255,255,0.1);
  border-left: 4px solid var(--primary);
  color: #fff;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  backdrop-filter: blur(20px);
  opacity: 0;
  transform: translateY(40px);
  transition: all 0.4s ease;
  z-index: 20;
}
.toast.show {
  opacity: 1;
  transform: translateY(0);
}

/* --- RESPONSIVE --- */
@media(max-width: 700px) {
  .form-card {
    padding: 2rem 1.3rem;
    margin: 0 1rem;
  }
  h1 { font-size: 1.6rem; }
  nav img { height: 40px; }
}
</style>
</head>
<body>

<nav>
  <img src="./South-fade.png" alt="South Fade Logo" />
  <a href="https://south-fade.com">Home</a>
</nav>

<section>
  <canvas id="particles"></canvas>

  <div class="form-card">
    <h1>Book Your Appointment</h1>
    <p class="subtitle">Secure your slot — your fresh fade awaits.</p>

    <form id="bookingForm">
      <div class="form-group">
        <label><i class="fa fa-user icon"></i> Full Name</label>
        <input type="text" name="name" required />
      </div>
      <div class="form-group">
        <label><i class="fa fa-envelope icon"></i> Email</label>
        <input type="email" name="email" required />
      </div>
      <div class="form-group">
        <label><i class="fa fa-phone icon"></i> Phone</label>
        <input type="tel" name="phone" required />
      </div>
      <div class="form-group">
        <label><i class="fa fa-cut icon"></i> Service</label>
        <select name="service" id="serviceSelect" required>
          <option value="">-- Select Service --</option>
          <option value="Fade">Fade</option>
          <option value="Scissor Cut">Scissor Cut</option>
          <option value="Beard Trim">Beard Trim</option>
          <option value="Special Treatment">Special Treatment</option>
          <option value="Kids Cut">Kids Cut</option>
          <option value="O.A.P Haircut">O.A.P Haircut</option>
        </select>
      </div>
      <div class="form-group">
        <label><i class="fa fa-list icon"></i> Subservice</label>
        <select name="subservice" id="subserviceSelect" required>
          <option value="">-- Select Subservice --</option>
        </select>
      </div>
      <div class="form-group">
        <label><i class="fa fa-calendar icon"></i> Date</label>
        <input type="date" name="date" required />
      </div>
      <div class="form-group">
        <label><i class="fa fa-clock icon"></i> Time</label>
        <input type="time" name="time" required />
      </div>
      <button type="submit">Book Appointment</button>
    </form>
  </div>
</section>

<div class="toast" id="toast"></div>

<script>
/* ---- Subservices ---- */
const serviceOptions = {
  "Fade": ["Buzz Cut Fade", "Skin Fade", "Wash & Cut"],
  "Scissor Cut": ["Basic Cut", "Layered Cut"],
  "Beard Trim": ["Clipper Trim", "Shape Up & Hot Towel", "Hot Towel Shave"],
  "Special Treatment": ["Nose & Ear Waxing", "Threading", "Facial", "Face Mask"],
  "Kids Cut": ["Under 12", "Student Cut (13–17)"],
  "O.A.P Haircut": ["Senior Cut"]
};
const serviceSelect = document.getElementById("serviceSelect");
const subserviceSelect = document.getElementById("subserviceSelect");
serviceSelect.addEventListener("change", () => {
  const subs = serviceOptions[serviceSelect.value] || [];
  subserviceSelect.innerHTML = '<option value="">-- Select Subservice --</option>';
  subs.forEach(sub => {
    const opt = document.createElement("option");
    opt.value = sub;
    opt.textContent = sub;
    subserviceSelect.appendChild(opt);
  });
});

/* ---- Toast ---- */
function showToast(msg, success=true) {
  const toast = document.getElementById("toast");
  toast.textContent = msg;
  toast.style.borderLeftColor = success ? "#10b981" : "#ef4444";
  toast.classList.add("show");
  setTimeout(() => toast.classList.remove("show"), 4000);
}

/* ---- Submit to Google Sheets ---- */
document.getElementById("bookingForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());
  data.form_token = "ABD121";
  try {
    await fetch("https://script.google.com/macros/s/AKfycbwSXsrCsu9crkpHfBqcOAWAQNVtsJlKs3r0QZPDSrwwKfu7AsN2Pjjeee8NS68SyvdG/exec", {
      method: "POST",
      mode: "no-cors",
      body: JSON.stringify(data)
    });
    showToast("✅ Booking sent successfully!");
    form.reset();
  } catch {
    showToast("⚠️ Network error. Please try again.", false);
  }
});

/* ---- Particles ---- */
const canvas = document.getElementById("particles");
const ctx = canvas.getContext("2d");
let particles = [];

function resizeCanvas() {
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

function initParticles() {
  particles = [];
  for (let i = 0; i < 50; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 5 + 2,
      dx: (Math.random() - 0.5) * 0.4,
      dy: (Math.random() - 0.5) * 0.4,
      alpha: Math.random() * 0.6 + 0.4
    });
  }
}
function animateParticles() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(252,213,53,${p.alpha})`;
    ctx.shadowColor = "rgba(252,213,53,0.6)";
    ctx.shadowBlur = 15;
    ctx.fill();
    p.x += p.dx;
    p.y += p.dy;
    if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
    if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
  });
  requestAnimationFrame(animateParticles);
}
initParticles();
animateParticles();
</script>
</body>
</html>
